<div class="alert alert-info">
  <p>
    <strong>Firebase Login</strong>
    I created this component so the app would have login functionality
    with Firebase. It is functional but I created this before I started learning Auth0.
    I'm glad that I learned how to build this login, in case someone finds
    it useful in the future.
  </p>
</div>

<div class="panel login-head">
  <h3 >Login or Register with Firebase below!</h3>
</div>


<div class="panel panel-default panel-login">
  <div class="panel-body panel1">
    <form class="panel" *ngIf="show1" (ngSubmit)="register(form)" novalidate #form="ngForm">
      <div class="form-group">
        <label>Email</label>
        <input type="email" class="form-control" #emailField="ngModel"
        [(ngModel)]="email" name="email" required pattern=".+@.+" placeholder="Enter Email">
        <p *ngIf="emailField.touched && emailField.invalid"
          class="alert alert-danger">Please enter a valid email address</p>
      </div>
      <div class="form-group">
        <label>Password</label>
        <input type="password" class="form-control" #passwordField="ngModel"
        [(ngModel)]="password" name="password" required placeholder="Enter Password">
        <p *ngIf="passwordField.touched && passwordField.invalid"
          class="alert alert-danger">Please enter a valid password</p>
      </div>
      <p>{{err}}</p>
      <button type="submit" class="btn btn-info"
      [disabled]="form.invalid">Register</button>
    </form>

  <button (click)="show1 = !show1" class="btn btn-info">{{show1 ? 'Go Back' : 'Register'}}</button>
  <button (click)="show4 = !show4" class="btn btn-info">{{show4 ? 'Go Back' : 'Login'}}</button>
  <!-- <button (click)="dummy()" class="btn btn-info">Dummy Login</button>
  <button (click)="test()" class="btn btn-info">test</button> -->




    <div *ngIf="show4" class="panel1">
      <div class="panel1">
        <button  class="btn btn-primary" (click)="loginFb()">Login with Facebook</button>
        <button  class="btn btn-primary" (click)="show3 = !show3">{{show3 ? 'Go Back' : 'Login with Email'}}</button>
      </div>
      <form class="panel" *ngIf="show3" (ngSubmit)="login(form)" novalidate #form="ngForm">
        <div class="form-group">
          <label>Email</label>
          <input type="email" class="form-control" #emailField="ngModel"
          [(ngModel)]="email" name="email" required pattern=".+@.+" placeholder="Enter Email">
          <p *ngIf="emailField.touched && emailField.invalid"
            class="alert alert-danger">Please enter a valid email address</p>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" class="form-control" #passwordField="ngModel"
          [(ngModel)]="password" name="password" required placeholder="Enter Password">
          <p *ngIf="passwordField.touched && passwordField.invalid"
            class="alert alert-danger">Please enter a valid password</p>
        </div>

        <div *ngIf="err" class="alert alert-danger">{{err}}</div>

        <button type="submit" class="btn btn-info"
        [disabled]="form.invalid">Login</button>
      </form>
    </div>

    <div class="logout">
      <button class="btn btn-danger" (click)="logout()">Logout</button>
    </div>
    <div *ngIf="photoURL" class="panel panel-fb">
      <h1>Hello, {{ displayName }} you logged in using Facebook.</h1>
    </div>
    <div *ngIf="loggedIn && !photoURL" class="panel panel-fb">
        <h1>You are logged in!</h1>
    </div>
 </div>
</div>
